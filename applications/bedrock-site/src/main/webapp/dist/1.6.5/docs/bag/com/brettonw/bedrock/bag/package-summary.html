<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (14) on Wed Jan 27 18:09:07 EST 2021 -->
<title>com.brettonw.bedrock.bag (Bag 1.6.5 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-01-27">
<meta name="description" content="declaration: package: com.brettonw.bedrock.bag">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="package-declaration">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<div class="header">
<h1 title="Package" class="title">Package&nbsp;com.brettonw.bedrock.bag</h1>
</div>
<div class="contentContainer">
<section class="packageDescription"><a id="package.description">
<!--   -->
</a>
<div class="block">Provides text-based storage of objects and un-formatted data in a simple, hierarchical key/value
 store. It is loosely based on combination of XML, JSON (from www.json.org), and various other
 serializers. Sometimes you want formatted text (JSON), sometimes you want a serialized Java
 Object, sometimes you want a database, and sometimes you want to move seamlessly between all of
 them. The tight integration of these concepts in a single, lightweight, flexible, and
 high-performance package lends itself to a broad range of applications.
 <p>
 This package was originally intended for messaging, events, and other applications that require
 complex values to be shared in a text-based data interchange format without the formality of
 declaring classes or establishing schemas.
 <p>
 <strong>Low-Level Containers and String Formats</strong><br>
 This package implements two low-level container classes for text-based storage of primitive types
 (or their boxed analog), strings, and other bedrock types. The containers provide array or string-
 keyed map design idioms, as BagArray and BagObject, respectively. They can be converted to JSON
 formatted strings, and reconstructed from a superset of that standard file format (i.e. the
 format that bedrock-types produce can be round-tripped as input).
 <p>
 <strong>Serializer</strong><br>
 A means of serializing objects to and from a BagObject is provided. Where the bedrock types are
 constrained to primitives, more complex types can be stored using the Serializer.
 <p>
 <strong>Managing Types</strong><br>
 In the bedrock types, type assignment is performed lazily on extraction. The design presumes the end
 user knows what they are expecting to get.
 <p>
 <strong>Storing Strings</strong><br>
 Because the internal storage mechanism for primitive types is string based, and the preferred
 interchange is JSON, there is a challenge when storing strings that have quotes in them. The JSON
 standard supports escaped characters (\"), and so does the BagObject.
 <p>
 By design, we have chosen not to do any kind of transformation when storing strings, which means
 that attempting to store strings that have un-escaped quotes in them, and then serializing the
 object, will result in failure to parse on deserialization. It is left to the user to encode
 strings containing quotes in them in a manner that makes sense for their application.
 <p>
 In a special case, some users have reported failures when trying to store JSON strings into a
 BagObject. This is not a supported usage for the reasons outlined above. Users interested in
 storing JSON should consider simply storing the populated BagObject represented by the JSON
 string, or serializing the structure directly into the BagObject format.
 <p>
 <strong>Hierarchical Indexing</strong><br>
 Hierarchical indexing is an option when BagObjects are nested inside of other BagObjects. The key
 is a single string, with the individual keys separated by '/' characters (like a file path, but
 it does not start with '/'). For example: <code>String name =
 bagObject.getString ("root/users/brettonw/last-name");</code> describes a four level hierarchy of
 BagObjects, with the leaf object having a String value under the key <code>"last-name"</code>.
 <p>
 BagArrays also support hierarchical indexing (for <code>get</code> operations only -
 <code>put</code> is planned for a future release). The indexed string value should be in integer
 in the range of the array size, or one of the special values <code>#first</code> or
 <code>#last</code>.
 <p>
 <strong>JSON</strong><br>
 Bag can consume a superset of valid JSON text in inputs (Constructors from Strings, streams,
 files, and etc.). The output of the <code>toString</code> method is valid JSON. The primary
 difference between Bag parsing of JSON, and that file standard is bare (unquoted) strings are
 allowed anywhere a quoted string would be allowed, as in: <code>{ first-name: bretton, last-name:
 wade }</code>. Note that whitespace, and the following characters are not allowed in bare
 values: ",:[]{}
 <p>
 <strong>Error Handling</strong><br>
 The error handling philosophy is to provide methods with a supplier for an error case, and to use
 helper functions that return null; significant failures are logged. The user can choose to throw an
 exception if they want, but Bag should be robust and continue chugging without killing the parent
 application if an unanticipated fault happens. In the future, we will probably move to eliminate
 the log4j2 dependency.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Bretton Wade</dd>
</dl>
</section>
<section class="summary">
<ul class="blockList">
<li class="blockList">
<div class="typeSummary">
<table>
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Selectable.html" title="interface in com.brettonw.bedrock.bag">Selectable</a>&lt;BagType extends <a href="Bag.html" title="class in com.brettonw.bedrock.bag">Bag</a>&gt;</th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="blockList">
<div class="typeSummary">
<table>
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="Bag.html" title="class in com.brettonw.bedrock.bag">Bag</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="BagArray.html" title="class in com.brettonw.bedrock.bag">BagArray</a></th>
<td class="colLast">
<div class="block">A collection of text-based values stored in a zero-based indexed array.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="BagArrayFrom.html" title="class in com.brettonw.bedrock.bag">BagArrayFrom</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="BagObject.html" title="class in com.brettonw.bedrock.bag">BagObject</a></th>
<td class="colLast">
<div class="block">A collection of text-based values store in key/value pairs (maintained in a sorted array).</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="BagObjectFrom.html" title="class in com.brettonw.bedrock.bag">BagObjectFrom</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Key.html" title="class in com.brettonw.bedrock.bag">Key</a></th>
<td class="colLast">
<div class="block">A helper class for composing paths used in BagObject indexing.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="SelectKey.html" title="class in com.brettonw.bedrock.bag">SelectKey</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Serializer.html" title="class in com.brettonw.bedrock.bag">Serializer</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="SortKey.html" title="class in com.brettonw.bedrock.bag">SortKey</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="SourceAdapter.html" title="class in com.brettonw.bedrock.bag">SourceAdapter</a></th>
<td class="colLast">
<div class="block">Source Adapter allows the Bag* constructors to be used with a variety of text-based
 inputs without clogging the Bag* class files.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="SourceAdapterHttp.html" title="class in com.brettonw.bedrock.bag">SourceAdapterHttp</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="SourceAdapterReader.html" title="class in com.brettonw.bedrock.bag">SourceAdapterReader</a></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="blockList">
<div class="typeSummary">
<table>
<caption><span>Enum Summary</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Enum</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="SelectType.html" title="enum in com.brettonw.bedrock.bag">SelectType</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="SortOrder.html" title="enum in com.brettonw.bedrock.bag">SortOrder</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="SortType.html" title="enum in com.brettonw.bedrock.bag">SortType</a></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="blockList">
<div class="typeSummary">
<table>
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="BadVersionException.html" title="class in com.brettonw.bedrock.bag">BadVersionException</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="ReadException.html" title="class in com.brettonw.bedrock.bag">ReadException</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="SelectAsException.html" title="class in com.brettonw.bedrock.bag">SelectAsException</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="UnsupportedTypeException.html" title="class in com.brettonw.bedrock.bag">UnsupportedTypeException</a></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</section>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2021. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
